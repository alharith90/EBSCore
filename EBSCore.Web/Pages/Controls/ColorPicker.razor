<div class="d-flex align-items-center gap-2">
    <input type="color" class="form-control form-control-color" style="width:3rem; padding:0;" @bind="InternalValue" @bind:event="oninput" />
    <input type="text" class="form-control" style="max-width:10rem;" @bind="InternalValue" @bind:event="oninput" />
</div>

@code {
    private string _value = "#000000";

    [Parameter]
    public string? Value
    {
        get => _value;
        set => _value = NormalizeValue(value);
    }

    [Parameter]
    public EventCallback<string?> ValueChanged { get; set; }

    private string InternalValue
    {
        get => _value;
        set
        {
            _value = NormalizeValue(value);
            ValueChanged.InvokeAsync(_value);
        }
    }

    private static string NormalizeValue(string? value) => string.IsNullOrWhiteSpace(value) ? "#000000" : value;
}
